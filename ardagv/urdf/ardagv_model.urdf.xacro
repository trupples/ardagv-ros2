<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
<xacro:macro name="ardagv_model" params="name">
	<link name="${name}_base_link"></link> <!-- ground-level, below centerpoint between wheels -->

	<link name="${name}_chasis">
		<visual>
			<origin xyz="0 0 0.08" rpy="0 0 0" />
			<geometry>
				<box size="0.6 0.3 0.15" />
			</geometry>
		</visual>
		<material name="chasis-material">
			<color rgba="0.5 0.5 0.5 1" />
		</material>
	</link>
	<joint name="${name}_base_to_chasis" type="fixed">
		<parent link="${name}_base_link" />
		<child link="${name}_chasis" />
	</joint>

	<link name="${name}_wheel_left">
		<visual>
			<geometry>
				<cylinder radius="0.05" length="0.025" />
			</geometry>
		</visual>
		<material name="wheel-material">
			<color rgba="0.2 0.2 0.2 1" />
		</material>
	</link>
	<joint name="${name}_motor_left" type="continuous">
		<parent link="${name}_base_link" />
		<child link="${name}_wheel_left" />
		<origin xyz="0 0.01225 0.05" rpy="1.570796326794897 0 0" />
		<command_interface name="velocity"> <!-- RPM limits: -->
			<param name="min">-18</param>
			<param name="max">18</param>
		</command_interface>
	</joint>

	<link name="${name}_wheel_right">
		<visual>
			<geometry>
				<cylinder radius="0.05" length="0.025" />
			</geometry>
		</visual>
		<material name="wheel-material">
			<color rgba="0.2 0.2 0.2 1" />
		</material>
	</link>
	<joint name="${name}_motor_right" type="continuous">
		<parent link="${name}_base_link" />
		<child link="${name}_wheel_right" />
		<origin xyz="0 -0.01225 0.05" rpy="-1.570796326794897 0 0" />
		<command_interface name="velocity"> <!-- RPM limits: -->
			<param name="min">-18</param>
			<param name="max">18</param>
		</command_interface>
	</joint>

	<sensor name="${name}_tof">
		<parent link="${name}_base_link" />
		<origin xyz="0.3 0 0.05" rpy="0 0 0" /> <!-- TODO: orientation -->
		<camera>
			<image width="512" height="512" hfov="2" format="mono16" near="0.4" far="5" /> <!-- TODO: change FOV, radians -->
			<image width="512" height="512" hfov="2" format="mono16" near="0.4" far="5" />
		</camera>
	</sensor>

	<sensor name="${name}_imu">
		<parent link="${name}_base_link" />
		<origin xyz="0.133 -0.01 0.05" rpy="0 0 0" /> <!-- TODO: orientation -->
	</sensor>


	<!-- OLD:	
	<link name="${name}_world"></link>
  <link name="${name}_base_link">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.5 0.3 0.2" />
      </geometry>
      <material name="base_link-material">
        <color rgba="0.5271151256969157 0.5271151256969157 0.5271151256969157 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.5 0.3 0.2" />
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <mass value="1" />
      <inertia ixx="0.16666666666666666" ixy="0" ixz="0" iyy="0.16666666666666666" iyz="0" izz="0.16666666666666666" />
    </inertial>
  </link>
  <joint name="${name}_wheel_left" type="continuous">
	  <parent link="${name}_base_link" />
	  <child link="${name}_left_wheel" />
    <origin xyz="0 0.16 -0.05" rpy="1.570796326794897 0 0" />
    <command_interface name="velocity">
      <param name="min">-18</param>
      <param name="max">18</param>
    </command_interface>
  </joint>
  <link name="${name}_left_wheel">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <cylinder radius="0.05" length="0.01" />
      </geometry>
      <material name="left_wheel-material">
        <color rgba="0.21223075740342198 0.21586050010324417 0.41254261347374327 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <cylinder radius="0.05" length="0.01" />
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <mass value="1" />
      <inertia ixx="0.3333333333333333" ixy="0" ixz="0" iyy="0.5" iyz="0" izz="0.3333333333333333" />
    </inertial>
  </link>
  <joint name="${name}_wheel_right" type="continuous">
	  <parent link="${name}_base_link" />
	  <child link="${name}_right_wheel" />
    <origin xyz="0 -0.16 -0.05" rpy="1.570796326794897 0 0" />
    <command_interface name="velocity">
      <param name="min">-18</param>
      <param name="max">18</param>
    </command_interface>
  </joint>
  <link name="${name}_right_wheel">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <cylinder radius="0.05" length="0.01" />
      </geometry>
      <material name="right_wheel-material">
        <color rgba="0.21223075740342198 0.21586050010324417 0.41254261347374327 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <cylinder radius="0.05" length="0.01" />
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <mass value="1" />
      <inertia ixx="0.3333333333333333" ixy="0" ixz="0" iyy="0.5" iyz="0" izz="0.3333333333333333" />
    </inertial>
  </link>
	-->
</xacro:macro>
</robot>

